<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="1086801675205-74ildb6uh2cbqethbv0fa66oephgflji.apps.googleusercontent.com">

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="fonts/icomoon/style.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/nuevo.css">

    <title>Login eMercado</title>

  </head>
  <body>
    
  <div class="d-lg-flex half">
    <div class="bg order-1 order-md-2" style="background-image: url('images/eMERCADO.jpg');"></div>
    <div class="contents order-2 order-md-1">

      <div class="container">
        <img src="images/login.png">
        <div class="row align-items- justify-content-center alturalimitada">
          
          <div class="col-md-7">
            <div class="mb-4">
              <h3>Iniciar sesión</h3>
              <p class="mb-4">Lo que buscás está acá</p>
            </div>
 
            <div id="dato">

              <div class="form-group first">
                <label for="username">Usuario</label>
                <input type="text" id="usuario" class="form-control">

              </div>
              <div class="form-group last mb-3">
                <label for="password">Clave</label>
                <input type="password" id="clave" class="form-control">
                
              </div>
              
              <!-- EN DESARROLLO-->
              <div class="d-flex mb-5 align-items-center">
                <label class="control control--checkbox mb-0"><span class="caption">Recordarme</span>
                  <input type="checkbox" checked="checked"/>
                  <div class="control__indicator"></div>
                </label>
                <span class="ml-auto"><a href="#" class="forgot-pass">Olvidé mi clave</a></span> 
              </div>
              <!-- EN DESARROLLO-->

              <button class="btn btn-block btn-primary justify-content-center" id="submit" onclick="verificar(usuario.value,clave.value)">Ingresar con cuenta eMercado</button>

              <span class="d-block text-center my-4 text-muted">&mdash; o &mdash;</span>

            </div>

              <script>
                function onSignIn(googleUser) {
                  // Useful data for your client-side scripts:
                  var profile = googleUser.getBasicProfile(); //Obtiene perfil de usuario básico

                  let perfil="<h2> Perfil del usuario </h2><div class='row'> ";
                  perfil+="<div class='col-1'><img src=" + profile.getImageUrl() +"></div" +
                    "<div class='col-12> ID:"+profile.getId() +
                     "</div>" + "<div class='col-sm'> Nombre: " + profile.getName() +
                      "</div> <div class='col sm' > Email: "+ profile.getEmai() + "</div </div>";
                  
                      document.getElementById('datos').innerHTML=perfil;

                  console.log("ID: " + profile.getId()); // Don't send this directly to your server!
                  console.log('Full Name: ' + profile.getName());
                  console.log('Given Name: ' + profile.getGivenName());
                  console.log('Family Name: ' + profile.getFamilyName());
                  console.log("Image URL: " + profile.getImageUrl());
                  console.log("Email: " + profile.getEmail());
          
                  // The ID token you need to pass to your backend:
                  var id_token = googleUser.getAuthResponse().id_token;
                  console.log("ID Token: " + id_token);
                }
          
              //Obtener información de perfil:
              //Una vez que haya iniciado sesión con un usuario en Google utilizando los ámbitos predeterminados,
              //puede acceder al ID de Google, el nombre, la URL del perfil y la dirección de correo electrónico del usuario.
          
              //Para recuperar información de perfil de un usuario, use el método getBasicProfile() .
          
                  // Intento de integrar Oauth xD
              </script>

              <div class="g-signin2 google btn d-flex justify-content-center align-items-center" data-onsuccess="onSignIn" data-theme="dark"></div><br> <button class="btn btn-danger btn d-flex justify-content-center align-items-center" onclick="signOut();">Desconectarse</div>
              <div id="datos" class="container"></div>


            </form>
          </div>
        </div>
      </div>
    </div>

    
  </div>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js\login.js"></script>
    <script src="js\signOut.js"></script>
    <script src="js\verificarSesion.js"></script>
  </body>
</html>